###############################################################################
# << FILE MANAGED BY PUPPET >>
# Manual changes are likey to be overwritten
###############################################################################

uri  <%= @uri %>
base <%= @base %>

ldap_version   <%= @version %>
timelimit      <%= @timelimit %>
bind_timelimit <%= @bind_timelimit %>
idle_timelimit <%= @idle_timelimit %>
deref          never

<% if @binddn -%>
binddn <%= @binddn %>
<% end -%>
<% if @bindpw -%>
bindpw <%= @bindpw %>
<% end -%>

<% if @ssl == true -%>
ssl           start_tls
tls_reqcert    <%= @ssl_reqcert %>
tls_cacertfile <%= scope.lookupvar('ldap::params::cacert') %>
<% end -%>
uid nslcd
gid nslcd
